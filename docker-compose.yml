version: '3'

services:
    openrestry-gateway:
        image: registry.cn-shenzhen.aliyuncs.com/nekoimi/openresty
        ports:
            - "80:80"
            - "8999:8999"
        networks:
            - openresty-net
        volumes:
            - "./html:/usr/local/openresty/nginx/html"
            - "./lua:/usr/local/openresty/nginx/lua"
            - "./ssl:/etc/resty-auto-ssl"
            - "./nginx.conf:/usr/local/openresty/nginx/conf/nginx.conf"
            - "./logs:/var/log/nginx"
            - "./conf.d:/etc/nginx/conf.d"
        environment:
            - TZ=Asia/Shanghai
        restart: always
        privileged: true

networks:
    openresty-net:
        driver: bridge
